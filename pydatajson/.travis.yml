# This file was autogenerated and will overwrite each time you run travis_pypi_setup.py

after_success:
- coveralls

install:
- pip install -r requirements.txt
- pip install -r requirements_dev.txt
- pip install python-coveralls
- pip install coveralls
- mkdir tests/temp
language: python
notifications:
  slack:
    on_failure: always
    on_success: change
    secure: GwU9+hCiBlk1FL3YDeKjpnTVxx7jcdrS+MCEbj61jrVRdPfkWs/a6v3qNBXJNU2/qN2lJvrKio0X9CdjbQksv5KtUUr08r/8tk4r8S/kB+R2xyoMjvHtJd6frYxj+d0xwhmNtNbo8jacYDrWXrQV4GQPtKAegh8+OdEvmuMsX5vFMT83mDVre/pD8dz8jFHzwE8RjBn9QG513/EyaqTHq/uDSPCO+rtAb+FLfDCa5adPHl36ZQB2DgK/1qT3lFLkJW7gLQm5bsYB3vjAO5tOR2B6OSz/Y4Kzo9tmB4Y6i4kfAZpGJCvKJj9wSf02hkB6mKJuheveHTI4m/lYgyb5pIoZaPQVQQ4zdidjPdYMB1P+6QYTdKdiiJEQ30spbmEHCEcD0YQwHlKZ+VJMFdME+gGlxz+uaEJygWL4nM2W6UDthALRgKFkuvdMJVk0qZh08q+sK6CGH9AOHQXlvLn4slRFbgONjJJQ/b8affpnnirtPjkCK0EOHZYg7q1HHu8O/nPUEGtyFVGbGSOKSsQyCDb49UOCFQOeBBk4arItjAlZGjgvao2Zdm+CGvBARVWYkw4IELOeAsKaHc3AbYh32QoPZNlnV/xykqNTDdw0ef7DrdS1GXDrLb1G3hkkzzphkSNe7ajAJDOvTAN3hgl6MQwSKDQXj40HkA0JUWWHw7E=
os:
- linux

sudo: false

stages:
  - name: test
  - name: deploy
    if: tag IS present

script:
  - nosetests --with-coverage --cover-package=pydatajson --cover-min-percentage=80
  - pycodestyle pydatajson tests

jobs:
  include:
  - python: '2.7'
  - python: '3.6'
  - stage: deploy
    install: pip install coveralls
    script: skip
    deploy:
      repo: datosgobar/pydatajson
      distributions: sdist bdist_wheel
      password:
        secure: cWWqxX4mC/PJ0WqNCuCdnJcgfDzMjJXyi5HGWqJTSkohMfIljChXDBS/GlFUKSAXf8aeyFntQS3F1EJQRPYIVoD64JKG1IUMiTOfleHgRPqrvY1vMquGsnYj8ZK/bqTC6JJvVD0aXEzKe6TK9g83G24FY8qdVecb9VlMsZc2cQ+kdA0lz9aoQtYETYFp6UdbbvO8Zk473oGfgqzjTb1GqkZMha2gn5F1GrI23wrnL66fMZHqXji5S8ryhzpVJW4PuM36M7onxZ/xcZLb/aptXYa33B947Bxf9VvmbdxkBpL+As5CbeSVSpMz66c/wHrspoWnC6GEPdOVwJbYmHxjjjC8Me/qwbUYHsPPCM1hr5qRJiEcVMltIu/YrDJAy0VbmQkcR1xuZMkzTtVf7c9fEhYDni6oyflLEpYHiKvnyMJF5oscdv/Splf6WYvaixwPR43JCjZZIc/0KO/u//dhyjDwEfgPRcXl0V1aeGu/jBqTsRS6qextNjmx5Bb9u/oP6zszvTFE9PVsVeg3GryxF1Db5FuzM2jkDGHgR5MF2PPcG7ZIzSdOTTl1LZbAnSkWXdzMx5pwxqYBBw6sn9lQSGHRequmKHZerUU/L0zaGrF3IT66/w1q5IXOpLmituivtog86TFRWPfGsQJZtptpABTGz0rQ9jchcHmSJ1sGdMI=
      provider: pypi
      user: datosgobar
      on:
        tags: true
